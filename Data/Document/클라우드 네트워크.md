# 클라우드 네트워크

### IP

#### 종류

고정 IP : 고정으로 할당 받는 IP\
클라우드 서비스에서 생성하는 가상 인스턴스는 IP를 할당받을때 고정 IP를 받는다.\
하지만, 클라우드 플랫폼에 IP를 할당하는 것이라 외부와 통신은 불가능하다.\
그래서 고정 IP는 가상 머신 간 내부 통신만 가능하다.

유동 IP : 가상 인스턴스가 외부에 접근할 수 있도록 할당받는 IP

#### IP 클래스와 IP 범위

가상 인스턴스가 생성될때마다 나누어 줄 IP테이블이 있다.\
IP 테이블의 범위를 IP 범위라 한다.\
IP 범위를 설정하려면 IP 클래스를 알아야한다.

IP 클래스는 A,B,C 와 다른 목적으로 예약된 D,E 클래스로 나뉜다.\
클래스는 네트워크와 호스트 수에 따라 구분된다.

\[A 클래스]\
범위 : 1.0.0.0 \~ 126.255.255.255\
서브넷 마스크 : 255.0.0.0\
서브넷 마스크 비트 수 : 8bit\
호스트 비트 수 : 32bit\
할당 가능한 호스트 IP 개수 : 1600만개

\[B 클래스]\
범위 : 128.0.0.0 \~ 191.255.255.255\
서브넷 마스크 : 255.255.0.0\
서브넷 마스크 비트 수 : 16bit\
호스트 비트 수 : 16bit\
할당 가능한 호스트 IP 개수 : 6만 5000개

\[C 클래스]\
범위 : 192.0.0.0 \~ 223.255.255.255\
서브넷 마스크 : 255.255.255.0\
서브넷 마스크 비트 수 : 24bit\
호스트 비트 수 : 8bit\
할당 가능한 호스트 IP 개수 : 254개

\[D 클래스]\
범위 : 224.0.0.0 \~ 239.255.255.255\
멀티 캐스트용으로 예약된 클래스

\[E 클래스]\
범위 : 240.0.0.0 \~ 254.255.255.254\
연구 개발 목적으로 예약된 클래스

IP 범위는 컴퓨터에 할당할 수 있는 IP 개수이다.\
IP는 네트워크, 호스트 부분으로 나뉘며 네트워크는 말 그대로 네트워크 이름이고\
호스트 부분은 개별 컴퓨터에 부여된다.\
예를 들어, 203.240.100.1 IP가 있고 서브넷 마스크가 255.255.255.0 이면,\
203.240.100은 네트워크 1은 호스트 1번이라고 한다.\
이 IP범위가 할당 할 수 있는 호스트 부분은 1\~255까지다.

### NAT

사설 IP가 공용 IP로 통신할 수 있도록 주소를 변환해주는 방법

1. Dynamic NAT : 1개의 사설 IP를 공인 IP로 연결\
   \[NAT Pool에 사용가능한 공인 IP를 통신할때 NAT Pool의 공인 IP를 매칭시켜 통신한다.]
2. Static NAT : 하나의 사설IP를 고정된 하나의 공인 IP로 연결\
   (AWS가 사용하는 방식)\
   \[각 사설 IP별로 공인 IP를 미리 연결시켜놓고 통신한다.]
3. PAT : 많은 사설 IP를 하나의 공인 IP로 연결\
   (NAT Gatway/NAT Instance가 사용하는 방식) \[Port로 식별]

### 서브넷

네트워크 안의 네트워크(큰 네트워크를 쪼갠 단위)\
일정 IP주소의 범위를 보유\
서브넷을 구현하기위해 CIDR 개념을 사용

### 사설망

사설망 내부는 외부 인터넷 망으로 통신이 불가능한 사설 IP로 구성\
외부로 통신할때는 통신 가능한 공인 IP로 나눠 사용\
보통 하나의 망에는 사설 IP를 부여받은 기기들과 NAT기능을 갖춘 게이트웨이로 구성

### CIDR

IP 주소의 영역을 네트워크 영역으로 나누기 위해 IP를 묶는 방식\
\[여러개의 사설망을 구축하기위해 망을 나누는 방법]

1. CIDR Block : IP 주소의 집합\
   호스트 주소 비트만큼 IP주소를 보유 가능
2. CIDR Notation : CIDR Block을 표시하는 방법

* 네트워크 주소와 호스트 주소로 구성
* 각 호스트 주소 숫자만큼의 IP를 가진 네트워크 망 형성 가능
* A.B.C.D/E 형식 (10.0.1.0/24)\
  A.B.C.D : 네크워크 주소 + 호스트 주소 표시\
  E : 네트워크 주소가 몇 bit인지 표시(0\~32)\
  예를 들어 192.168.2.0/24 일때 192.168.2는 네트워크 주소, 0은 호스트 주소가 된다.\
  32-24 = 8bit => 8bit가 호스트 주소이다.

### 라우터

서로 다른 네트워크를 연결할때 사용하는 장비\
\[역할]

1. 경로 설정
2. 스위칭

### 브릿지

콜리전 도메인을 나누어 서로 통신이 가능하도록 다리처럼 연결해주는 네트워크 장비
